{
    "//iati-activity": {
        "atleast_one": {
            "cases": [
                { "paths": [ "activity-date[@type='1' or @type='2']" ] }
            ]
        },
        "only_one_of": {
            "cases": [
                {
                    "excluded": [ "recipient-region", "recipient-country" ],
                    "paths": [ "transaction/recipient-country", "transaction/recipient-region" ]
                }
            ]
        },
        "regex_matches": {
            "cases": [
                { "regex": "[^\\/\\&\\|\\?]+",
                  "paths": [ "reporting-org/@ref", "iati-identifier", "participating-org/@ref", "transaction/provider-org/@ref", "transaction/receiver-org/@ref" ] }
            ]
        },
        "no_percent": {
            "cases": [
                {
                    "paths": [
                        "crs-add/loan-terms/@rate-1",
                        "crs-add/loan-terms/@rate-2",
                        "country-budget-items/budget-item/@percentage",
                        "capital-spend/@percentage"
                    ]
                }
            ]
        },
        "evaluates_to_true": {
            "cases": [
                {
                    "condition": "activity-status/@code='1'",
                    "eval": "not(activity-date[@type='2'])"
                },
                {
                    "condition": "activity-status/@code='1'",
                    "eval": "not(activity-date[@type='4'])"
                },
                {
                    "condition": "activity-status/@code='2'",
                    "eval": "not(activity-date[@type='4'])"
                }
            ]
        },
        "range": {
            "cases": [
                {
                    "paths": ["recipient-country/@percentage"],
                    "min": 0.0, "max": 100.0
                },
                {
                    "paths": ["recipient-region/@percentage"],
                    "min": 0.0, "max": 100.0
                },
                {
                    "paths": ["sector/@percentage"],
                    "min": 0.0, "max": 100.0
                },
                {
                    "paths": ["capital-spend/@percentage"],
                    "min": 0.0, "max": 100.0
                },
                {
                    "paths": ["country-budget-items/budget-item/@percentage"],
                    "min": 0.0, "max": 100.0
                }
            ]
        },
        "if_then": {
            "cases":[
                {"if": "count(sector[@vocabulary=98 or @vocabulary=99]) > 0", "then": "count(sector/narrative) > 0"},
                {"if": "result/indicator/baseline/@value", "then": "number(result/indicator/baseline/@value) = number(result/indicator/baseline/@value)"},
                {"if": "result/indicator/period/target/@value", "then": "number(result/indicator/period/target/@value) = number(result/indicator/period/target/@value)"},
                {"if": "result/indicator/period/actual/@value", "then": "number(result/indicator/period/actual/@value) = number(result/indicator/period/actual/@value)"}
            ]
        }
    },
    "//policy-marker": {
        "atleast_one": {
            "cases": [
                {
                    "condition": "@vocabulary='1' or not(@vocabulary)",
                    "paths": [ "@significance" ]
                },
                {
                    "condition": "@vocabulary='99'",
                    "paths": [ "narrative" ]
                }
            ]
        }
    },
    "//iati-organisation": {
        "regex_matches": {
            "cases": [
                { "regex": "[^\\/\\&\\|\\?]+",
                  "paths": [ "reporting-org/@ref", "organisation-identifier" ] }
            ]
        }
    },
    "//result/indicator": {
        "no_more_than_one": {
            "cases": [
                { "paths": [ "reference[1]", "../reference[1]" ] }
            ]
        }
    },
    "//result/indicator[@measure='1' or @measure='2' or @measure='3' or @measure='4']/baseline": {
        "atleast_one": {
            "cases": [
                { "paths": [ "@value" ] }
            ]
        }
    },
    "//result/indicator[@measure='1' or @measure='2' or @measure='3' or @measure='4']/period/target": {
        "atleast_one": {
            "cases": [
                { "paths": [ "@value" ] }
            ]
        }
    },
    "//result/indicator[@measure='1' or @measure='2' or @measure='3' or @measure='4']/period/actual": {
        "atleast_one": {
            "cases": [
                { "paths": [ "@value" ] }
            ]
        }
    }
}
